# 正規表現

## 概要
- 文字列の集合を1つの文字列で表現する方法の一つ。([wiki参照](https://ja.wikipedia.org/wiki/%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE))
- 抽象的に文字列を表すためのもの。
- 「Java・JavaScript」を例にしたものは以下。
    - 具体的 ; Javaだけを表現したいときには、そのまま「`Java`」
    - 抽象的 : Javaを含んだ文字列を表現したいときには、「`Java.*`」
- このように抽象的に文字列を表現することで、検索や置換などの文章処理を効率的に行うことができる。

## 仕様
- Posixで定義されている。
  - 基本正規表現(BRE)
  - 拡張正規表現(ERE)
- Unix系のツールにはこれらが実装されている。
- この他、言語固有の表現記法があり、代表的なものでいうとGNUツールやPerlのPCREと呼ばれるものがある。

## 構文
- BRE

|構文|意味|
|:---:|:---:|
|`.`|任意の一文字|
|`^$`|先頭または行末|
|`[]`|クラス。特定文字へのマッチ|
|`[^]`|クラス。特定文字以外へのマッチ|
|`\{\}`|繰り返し表現。直前の文字の回数指定。|
|`*`|繰り返し表現。直前の文字が0回以上。|
|`\(\)`|キャプチャ(グループ)|
|`\1 ~ \9`|キャプチャの参照。後方参照。|

- ERE

|構文|意味|
|:---:|:---:|
|`.`|任意の一文字|
|`^$`|先頭または行末|
|`[]`|クラス。特定文字へのマッチ|
|`[^]`|クラス。特定文字以外へのマッチ|
|`{}`|繰り返し表現。直前の文字の回数指定。|
|`*,+,?`|繰り返し表現。|
|`\|`|or表現|
|`()`|キャプチャ(グループ)|
|`\1 ~ \9`|キャプチャの参照。後方参照。|

## 問題
- 利用技術や言語、ツールは以下。
    - unixコマンド(grep,sed,awk)
    - visual studio code
    - javascript

### unixコマンド
#### 基本
- 前項の構文に沿って一つ一つ例を見ていく。

#### 利用テキスト : `chap7/sample`

1. `電話番号(ハイフン付き)`をgrepで検索。

2. `電話番号(ハイフン無し)`をgrepで検索。

3. `電話番号(ハイフン有り無しどちらでも)`をgrepで検索。

4. 全て小文字の英字の行をgrepで検索

5. 全て大文字の英字の行をgrepで検索

6. アッパーキャメルケース(AbcdEfgh)の行をgrepで検索。

7. 先頭が`t_o_d`で始まる行を検索。

8. 行末が`t_o_d`で終わる行を検索。

9. ピリオドがついている行を検索。

#### 利用テキスト : `chap7/log`
10. 2021年の9月のログを検索

11. 2021年8月の下2桁の日のログを検索

12. ipの最後が1のログを検索

13. ipの最後が下1桁のログを検索

#### 利用テキスト : `chap7/nogi`

14. 県出身のメンバーを検索

```bash
cat nogi | awk '$数字 ~ /検索条件/{}'
```

15. 苗字が4文字で名が2文字のメンバーを検索

16. 2000年代のメンバーを検索

### Visual Studio Code
#### 利用テキスト : `practice.js`

1. classの記法をアッパーキャメルケースに変換。

2. methodの記法をローワーキャメルケースに変換。

3. 変数宣言の`=`の前後にスペースを追加。

### javasript

#### 利用テキスト : `regex_sample.js`

1. 任意の文字列を検索して結果を返す。

2. 任意の文字列を検索して真偽値で返す。

3. 正規表現で検索して置換する。
